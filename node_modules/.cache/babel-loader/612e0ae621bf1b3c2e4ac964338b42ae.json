{"ast":null,"code":"var _jsxFileName = \"D:\\\\PTIT\\\\Ky2Nam4\\\\QLSV\\\\frontend\\\\src\\\\components\\\\util\\\\img\\\\ImageUpload.js\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { imgbbAPI } from \"../../../utils/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ImageUpload = _ref => {\n  let {\n    onChange = () => {},\n    name = \"\"\n  } = _ref;\n\n  const handleUploadImage = async e => {\n    var _e$target, _e$target$files;\n\n    const file = e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : (_e$target$files = _e$target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const bodyFormData = new FormData();\n    bodyFormData.append(\"image\", file);\n    const response = await axios({\n      method: \"post\",\n      url: `${imgbbAPI}`,\n      data: bodyFormData,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    const imageData = response.data.data;\n\n    if (!imageData) {\n      toast.error(\"Can not upload image to imgbbAPI\");\n      return;\n    }\n\n    const imageUrl = imageData.url;\n    onChange(name, imageUrl);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"w-full h-[200px] border border-gray-200 border-dashed rounded-xl cursor-pointer flex items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleUploadImage,\n      className: \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: \"w-6 h-6\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      stroke: \"currentColor\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ImageUpload;\nexport default ImageUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"sources":["D:/PTIT/Ky2Nam4/QLSV/frontend/src/components/util/img/ImageUpload.js"],"names":["axios","React","toast","imgbbAPI","ImageUpload","onChange","name","handleUploadImage","e","file","target","files","bodyFormData","FormData","append","response","method","url","data","headers","imageData","error","imageUrl"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,QAAT,QAAyB,uBAAzB;;;AAEA,MAAMC,WAAW,GAAG,QAAwC;AAAA,MAAvC;AAAEC,IAAAA,QAAQ,GAAG,MAAM,CAAE,CAArB;AAAuBC,IAAAA,IAAI,GAAG;AAA9B,GAAuC;;AAC1D,QAAMC,iBAAiB,GAAG,MAAOC,CAAP,IAAa;AAAA;;AACrC,UAAMC,IAAI,GAAGD,CAAH,aAAGA,CAAH,oCAAGA,CAAC,CAAEE,MAAN,iEAAG,UAAWC,KAAd,oDAAG,gBAAmB,CAAnB,CAAb;AACA,QAAI,CAACF,IAAL,EAAW;AACX,UAAMG,YAAY,GAAG,IAAIC,QAAJ,EAArB;AACAD,IAAAA,YAAY,CAACE,MAAb,CAAoB,OAApB,EAA6BL,IAA7B;AACA,UAAMM,QAAQ,GAAG,MAAMf,KAAK,CAAC;AAC3BgB,MAAAA,MAAM,EAAE,MADmB;AAE3BC,MAAAA,GAAG,EAAG,GAAEd,QAAS,EAFU;AAG3Be,MAAAA,IAAI,EAAEN,YAHqB;AAI3BO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAJkB,KAAD,CAA5B;AAQA,UAAMC,SAAS,GAAGL,QAAQ,CAACG,IAAT,CAAcA,IAAhC;;AACA,QAAI,CAACE,SAAL,EAAgB;AACdlB,MAAAA,KAAK,CAACmB,KAAN,CAAY,kCAAZ;AACA;AACD;;AACD,UAAMC,QAAQ,GAAGF,SAAS,CAACH,GAA3B;AACAZ,IAAAA,QAAQ,CAACC,IAAD,EAAOgB,QAAP,CAAR;AACD,GApBD;;AAsBA,sBACE;AAAO,IAAA,SAAS,EAAC,kHAAjB;AAAA,4BACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAEf,iBAA7B;AAAgD,MAAA,SAAS,EAAC;AAA1D;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,MAAA,KAAK,EAAC,4BADR;AAEE,MAAA,SAAS,EAAC,SAFZ;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,OAAO,EAAC,WAJV;AAKE,MAAA,MAAM,EAAC,cALT;AAAA,6BAOE;AACE,QAAA,aAAa,EAAC,OADhB;AAEE,QAAA,cAAc,EAAC,OAFjB;AAGE,QAAA,WAAW,EAAE,CAHf;AAIE,QAAA,CAAC,EAAC;AAJJ;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD,CA1CD;;KAAMH,W;AA4CN,eAAeA,WAAf","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { imgbbAPI } from \"../../../utils/config\";\r\n\r\nconst ImageUpload = ({ onChange = () => {}, name = \"\" }) => {\r\n  const handleUploadImage = async (e) => {\r\n    const file = e?.target?.files?.[0];\r\n    if (!file) return;\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append(\"image\", file);\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: `${imgbbAPI}`,\r\n      data: bodyFormData,\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    const imageData = response.data.data;\r\n    if (!imageData) {\r\n      toast.error(\"Can not upload image to imgbbAPI\");\r\n      return;\r\n    }\r\n    const imageUrl = imageData.url;\r\n    onChange(name, imageUrl);\r\n  };\r\n\r\n  return (\r\n    <label className=\"w-full h-[200px] border border-gray-200 border-dashed rounded-xl cursor-pointer flex items-center justify-center\">\r\n      <input type=\"file\" onChange={handleUploadImage} className=\"hidden\" />\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-6 h-6\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"\r\n        />\r\n      </svg>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n"]},"metadata":{},"sourceType":"module"}