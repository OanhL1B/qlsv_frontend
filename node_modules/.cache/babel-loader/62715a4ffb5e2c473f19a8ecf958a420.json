{"ast":null,"code":"var _jsxFileName = \"D:\\\\PTIT\\\\Ky2Nam4\\\\QLSV\\\\frontend\\\\src\\\\components\\\\admin\\\\updateStudent\\\\UpdateStudent.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SET_ERRORS, UPDATE_STUDENT } from \"../../../redux/actionTypes\";\nimport * as classes from \"../../../utils/styles\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport FileBase from \"react-file-base64\";\nimport { MenuItem, Select } from \"@mui/material\";\nimport Spinner from \"../../../utils/Spinner\";\nimport { getAllStudent, updateStudent } from \"../../../redux/actions/adminActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateStudent = _ref => {\n  _s();\n\n  var _selectedStudent$resu;\n\n  let {\n    props\n  } = _ref;\n  const {\n    selectedStudent,\n    value,\n    setValue,\n    closeModal\n  } = props;\n  console.log(\"props\", props);\n  const dispatch = useDispatch();\n  const store = useSelector(state => state);\n  const departments = useSelector(state => state.admin.allDepartment);\n  const units = useSelector(state => state.admin.allUnit);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState({});\n  useEffect(() => {\n    if (Object.keys(store.errors).length !== 0) {\n      setError(store.errors);\n    }\n  }, [store.errors]); // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   setError({});\n  //   setLoading(true);\n  //   if (\n  //     value.id === \"\" &&\n  //     value.maSv === \"\" &&\n  //     value.ho === \"\" &&\n  //     value.ten === \"\" &&\n  //     value.phai === \"\" &&\n  //     value.ngaySinh === \"\" &&\n  //     value.noiSinh === \"\" &&\n  //     value.diaChi === \"\" &&\n  //     value.trangThai === \"\" &&\n  //     value.sdt === \"\" &&\n  //     value.email === \"\" &&\n  //     value.maLop === \"\" &&\n  //     value.maKhoa === \"\" &&\n  //     value.hinhAnh === \"\"\n  //   ) {\n  //     alert(\"Enter atleast one value\");\n  //     setLoading(false);\n  //   } else {\n  //     dispatch(updateStudent(value));\n  //     alert(\"Kindly login again to see updates\");\n  //   }\n  // };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    if (!value.tenKhoa && !value.sdt) {\n      alert(\"Enter at least one value\");\n    } else {\n      const updatedValue = {};\n\n      if (value.ho !== \"\") {\n        updatedValue.ho = value.ho;\n      } else {\n        updatedValue.ho = selectedStudent.ho;\n      }\n\n      if (value.ten !== \"\") {\n        updatedValue.ten = value.ten;\n      } else {\n        updatedValue.ten = selectedStudent.ten;\n      }\n\n      if (value.phai !== \"\") {\n        updatedValue.phai = value.phai;\n      } else {\n        updatedValue.phai = selectedStudent.phai;\n      }\n\n      if (value.ngaySinh !== \"\") {\n        updatedValue.ngaySinh = value.ngaySinh;\n      } else {\n        updatedValue.ngaySinh = selectedStudent.ngaySinh;\n      }\n\n      if (value.noiSinh !== \"\") {\n        updatedValue.noiSinh = value.noiSinh;\n      } else {\n        updatedValue.noiSinh = selectedStudent.noiSinh;\n      }\n\n      if (value.diaChi !== \"\") {\n        updatedValue.diaChi = value.diaChi;\n      } else {\n        updatedValue.diaChi = selectedStudent.diaChi;\n      }\n\n      if (value.sdt !== \"\") {\n        updatedValue.sdt = value.sdt;\n      } else {\n        updatedValue.sdt = selectedStudent.sdt;\n      }\n\n      if (value.maLop !== \"\") {\n        updatedValue.maLop = value.maLop;\n      } else {\n        updatedValue.maLop = selectedStudent.maLop;\n      }\n\n      if (value.maKhoa !== \"\") {\n        updatedValue.maKhoa = value.maKhoa;\n      } else {\n        updatedValue.maKhoa = selectedStudent.maKhoa;\n      }\n\n      if (value.hinhAnh !== \"\") {\n        updatedValue.hinhAnh = value.hinhAnh;\n      } else {\n        updatedValue.hinhAnh = selectedStudent.hinhAnh;\n      }\n\n      dispatch(updateStudent({ ...selectedStudent,\n        ...updatedValue\n      }));\n      dispatch({\n        type: UPDATE_STUDENT,\n        payload: false\n      });\n    }\n\n    closeModal();\n  };\n\n  useEffect(() => {\n    dispatch(getAllStudent());\n  }, [dispatch, store.errors, store.admin.updatedStudent]);\n  useEffect(() => {\n    if (store.errors || store.student.updatedStudent) {\n      setLoading(false);\n    } else {\n      setLoading(true);\n    }\n  }, [store.errors, store.student.updatedStudent]);\n  useEffect(() => {\n    dispatch({\n      type: SET_ERRORS,\n      payload: {}\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-[0.8] mt-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mr-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" mr-10 bg-white flex flex-col rounded-xl overflow-y-scroll h-[27rem] \",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.adminForm0,\n          onSubmit: handleFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.adminForm1,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.adminForm2l,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"M\\xE3 Sinh Vi\\xEAn:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.maSv,\n                  disabled: true,\n                  className: classes.adminInput,\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \" H\\u1ECD:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.ho,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.ho,\n                  onChange: e => setValue({ ...value,\n                    ho: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"T\\xEAn :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.ten,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.ten,\n                  onChange: e => setValue({ ...value,\n                    ten: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"Ph\\xE1i :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.phai,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.phai,\n                  onChange: e => setValue({ ...value,\n                    phai: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"Ng\\xE0y Sinh :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.ngaySinh,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.ngaySinh,\n                  onChange: e => setValue({ ...value,\n                    ngaySinh: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"N\\u01A1i Sinh :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.noiSinh,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.noiSinh,\n                  onChange: e => setValue({ ...value,\n                    noiSinh: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"\\u0110\\u1ECBa Ch\\u1EC9 :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.diaChi,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.diaChi,\n                  onChange: e => setValue({ ...value,\n                    diaChi: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"S\\u1ED1 \\u0110i\\u1EC7n tho\\u1EA1i :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: selectedStudent.sdt,\n                  className: classes.adminInput,\n                  type: \"text\",\n                  value: value.sdt,\n                  onChange: e => setValue({ ...value,\n                    sdt: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"Email :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: (_selectedStudent$resu = selectedStudent.result) === null || _selectedStudent$resu === void 0 ? void 0 : _selectedStudent$resu.email,\n                  disabled: true,\n                  className: classes.adminInput,\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"L\\u1EDBp :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  required: true,\n                  displayEmpty: true,\n                  sx: {\n                    height: 36\n                  },\n                  inputProps: {\n                    \"aria-label\": \"Without label\"\n                  },\n                  value: value.maLop,\n                  onChange: e => setValue({ ...value,\n                    maLop: e.target.value\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"\",\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this), units === null || units === void 0 ? void 0 : units.map((dp, idx) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: dp.maLop,\n                    children: dp.tenLop\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"Department :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  displayEmpty: true,\n                  sx: {\n                    height: 36\n                  },\n                  inputProps: {\n                    \"aria-label\": \"Without label\"\n                  },\n                  value: value.department,\n                  onChange: e => setValue({ ...value,\n                    department: e.target.value\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"\",\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 21\n                  }, this), departments === null || departments === void 0 ? void 0 : departments.map((dp, idx) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: dp.department,\n                    children: dp.department\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.adminForm3,\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.adminLabel,\n                  children: \"Avatar :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FileBase, {\n                  type: \"file\",\n                  multiple: false,\n                  onDone: _ref2 => {\n                    let {\n                      base64\n                    } = _ref2;\n                    return setValue({ ...value,\n                      avatar: base64\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.adminFormButton,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: classes.adminFormSubmitButton,\n                type: \"submit\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/admin/student\",\n                className: \"btn btn-primary\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: classes.adminFormClearButton,\n                  type: \"button\",\n                  onClick: closeModal,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.loadingAndError,\n            children: loading && /*#__PURE__*/_jsxDEV(Spinner, {\n              message: \"Updating\",\n              height: 30,\n              width: 150,\n              color: \"#111111\",\n              messageColor: \"blue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdateStudent, \"5kv1IbGVadMf5JNi68bGNOGO/Po=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = UpdateStudent;\nexport default UpdateStudent;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateStudent\");","map":{"version":3,"sources":["D:/PTIT/Ky2Nam4/QLSV/frontend/src/components/admin/updateStudent/UpdateStudent.js"],"names":["useEffect","useState","useDispatch","useSelector","SET_ERRORS","UPDATE_STUDENT","classes","Link","useNavigate","FileBase","MenuItem","Select","Spinner","getAllStudent","updateStudent","UpdateStudent","props","selectedStudent","value","setValue","closeModal","console","log","dispatch","store","state","departments","admin","allDepartment","units","allUnit","loading","setLoading","error","setError","Object","keys","errors","length","handleFormSubmit","e","preventDefault","tenKhoa","sdt","alert","updatedValue","ho","ten","phai","ngaySinh","noiSinh","diaChi","maLop","maKhoa","hinhAnh","type","payload","updatedStudent","student","adminForm0","adminForm1","adminForm2l","adminForm3","adminLabel","maSv","adminInput","target","result","email","height","map","dp","idx","tenLop","department","base64","avatar","adminFormButton","adminFormSubmitButton","adminFormClearButton","loadingAndError"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { SET_ERRORS, UPDATE_STUDENT } from \"../../../redux/actionTypes\";\r\nimport * as classes from \"../../../utils/styles\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { MenuItem, Select } from \"@mui/material\";\r\nimport Spinner from \"../../../utils/Spinner\";\r\nimport {\r\n  getAllStudent,\r\n  updateStudent,\r\n} from \"../../../redux/actions/adminActions\";\r\n\r\nconst UpdateStudent = ({ props }) => {\r\n  const { selectedStudent, value, setValue, closeModal } = props;\r\n  console.log(\"props\", props);\r\n  const dispatch = useDispatch();\r\n  const store = useSelector((state) => state);\r\n  const departments = useSelector((state) => state.admin.allDepartment);\r\n  const units = useSelector((state) => state.admin.allUnit);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(store.errors).length !== 0) {\r\n      setError(store.errors);\r\n    }\r\n  }, [store.errors]);\r\n\r\n  // const handleSubmit = (e) => {\r\n  //   e.preventDefault();\r\n  //   setError({});\r\n  //   setLoading(true);\r\n  //   if (\r\n  //     value.id === \"\" &&\r\n  //     value.maSv === \"\" &&\r\n  //     value.ho === \"\" &&\r\n  //     value.ten === \"\" &&\r\n  //     value.phai === \"\" &&\r\n  //     value.ngaySinh === \"\" &&\r\n  //     value.noiSinh === \"\" &&\r\n  //     value.diaChi === \"\" &&\r\n  //     value.trangThai === \"\" &&\r\n  //     value.sdt === \"\" &&\r\n  //     value.email === \"\" &&\r\n  //     value.maLop === \"\" &&\r\n  //     value.maKhoa === \"\" &&\r\n  //     value.hinhAnh === \"\"\r\n  //   ) {\r\n  //     alert(\"Enter atleast one value\");\r\n  //     setLoading(false);\r\n  //   } else {\r\n  //     dispatch(updateStudent(value));\r\n  //     alert(\"Kindly login again to see updates\");\r\n  //   }\r\n  // };\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!value.tenKhoa && !value.sdt) {\r\n      alert(\"Enter at least one value\");\r\n    } else {\r\n      const updatedValue = {};\r\n      if (value.ho !== \"\") {\r\n        updatedValue.ho = value.ho;\r\n      } else {\r\n        updatedValue.ho = selectedStudent.ho;\r\n      }\r\n      if (value.ten !== \"\") {\r\n        updatedValue.ten = value.ten;\r\n      } else {\r\n        updatedValue.ten = selectedStudent.ten;\r\n      }\r\n      if (value.phai !== \"\") {\r\n        updatedValue.phai = value.phai;\r\n      } else {\r\n        updatedValue.phai = selectedStudent.phai;\r\n      }\r\n      if (value.ngaySinh !== \"\") {\r\n        updatedValue.ngaySinh = value.ngaySinh;\r\n      } else {\r\n        updatedValue.ngaySinh = selectedStudent.ngaySinh;\r\n      }\r\n      if (value.noiSinh !== \"\") {\r\n        updatedValue.noiSinh = value.noiSinh;\r\n      } else {\r\n        updatedValue.noiSinh = selectedStudent.noiSinh;\r\n      }\r\n      if (value.diaChi !== \"\") {\r\n        updatedValue.diaChi = value.diaChi;\r\n      } else {\r\n        updatedValue.diaChi = selectedStudent.diaChi;\r\n      }\r\n      if (value.sdt !== \"\") {\r\n        updatedValue.sdt = value.sdt;\r\n      } else {\r\n        updatedValue.sdt = selectedStudent.sdt;\r\n      }\r\n      if (value.maLop !== \"\") {\r\n        updatedValue.maLop = value.maLop;\r\n      } else {\r\n        updatedValue.maLop = selectedStudent.maLop;\r\n      }\r\n      if (value.maKhoa !== \"\") {\r\n        updatedValue.maKhoa = value.maKhoa;\r\n      } else {\r\n        updatedValue.maKhoa = selectedStudent.maKhoa;\r\n      }\r\n      if (value.hinhAnh !== \"\") {\r\n        updatedValue.hinhAnh = value.hinhAnh;\r\n      } else {\r\n        updatedValue.hinhAnh = selectedStudent.hinhAnh;\r\n      }\r\n      dispatch(updateStudent({ ...selectedStudent, ...updatedValue }));\r\n      dispatch({ type: UPDATE_STUDENT, payload: false });\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllStudent());\r\n  }, [dispatch, store.errors, store.admin.updatedStudent]);\r\n\r\n  useEffect(() => {\r\n    if (store.errors || store.student.updatedStudent) {\r\n      setLoading(false);\r\n    } else {\r\n      setLoading(true);\r\n    }\r\n  }, [store.errors, store.student.updatedStudent]);\r\n  useEffect(() => {\r\n    dispatch({ type: SET_ERRORS, payload: {} });\r\n  }, []);\r\n  return (\r\n    <div className=\"flex-[0.8] mt-3\">\r\n      <div className=\"space-y-5\">\r\n        <div className=\"flex items-center justify-between mr-8\"></div>\r\n        <div className=\" mr-10 bg-white flex flex-col rounded-xl overflow-y-scroll h-[27rem] \">\r\n          <form className={classes.adminForm0} onSubmit={handleFormSubmit}>\r\n            <div className={classes.adminForm1}>\r\n              <div className={classes.adminForm2l}>\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Mã Sinh Viên:</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.maSv}\r\n                    disabled\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}> Họ:</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.ho}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.ho}\r\n                    onChange={(e) => setValue({ ...value, ho: e.target.value })}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Tên :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.ten}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.ten}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, ten: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Phái :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.phai}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.phai}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, phai: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Ngày Sinh :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.ngaySinh}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.ngaySinh}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, ngaySinh: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Nơi Sinh :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.noiSinh}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.noiSinh}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, noiSinh: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Địa Chỉ :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.diaChi}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.diaChi}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, diaChi: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Số Điện thoại :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.sdt}\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                    value={value.sdt}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, sdt: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Email :</h1>\r\n                  <input\r\n                    placeholder={selectedStudent.result?.email}\r\n                    disabled\r\n                    className={classes.adminInput}\r\n                    type=\"text\"\r\n                  />\r\n                </div>\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Lớp :</h1>\r\n                  <Select\r\n                    required\r\n                    displayEmpty\r\n                    sx={{ height: 36 }}\r\n                    inputProps={{ \"aria-label\": \"Without label\" }}\r\n                    value={value.maLop}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, maLop: e.target.value })\r\n                    }\r\n                  >\r\n                    <MenuItem value=\"\">None</MenuItem>\r\n                    {units?.map((dp, idx) => (\r\n                      <MenuItem key={idx} value={dp.maLop}>\r\n                        {dp.tenLop}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Department :</h1>\r\n                  <Select\r\n                    displayEmpty\r\n                    sx={{ height: 36 }}\r\n                    inputProps={{ \"aria-label\": \"Without label\" }}\r\n                    value={value.department}\r\n                    onChange={(e) =>\r\n                      setValue({ ...value, department: e.target.value })\r\n                    }\r\n                  >\r\n                    <MenuItem value=\"\">None</MenuItem>\r\n                    {departments?.map((dp, idx) => (\r\n                      <MenuItem key={idx} value={dp.department}>\r\n                        {dp.department}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <div className={classes.adminForm3}>\r\n                  <h1 className={classes.adminLabel}>Avatar :</h1>\r\n                  <FileBase\r\n                    type=\"file\"\r\n                    multiple={false}\r\n                    onDone={({ base64 }) =>\r\n                      setValue({ ...value, avatar: base64 })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className={classes.adminFormButton}>\r\n                <button className={classes.adminFormSubmitButton} type=\"submit\">\r\n                  Submit\r\n                </button>\r\n                <Link to=\"/admin/student\" className=\"btn btn-primary\">\r\n                  <button\r\n                    className={classes.adminFormClearButton}\r\n                    type=\"button\"\r\n                    onClick={closeModal}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div className={classes.loadingAndError}>\r\n              {loading && (\r\n                <Spinner\r\n                  message=\"Updating\"\r\n                  height={30}\r\n                  width={150}\r\n                  color=\"#111111\"\r\n                  messageColor=\"blue\"\r\n                />\r\n              )}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateStudent;\r\n"]},"metadata":{},"sourceType":"module"}