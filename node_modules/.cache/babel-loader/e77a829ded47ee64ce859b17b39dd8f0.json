{"ast":null,"code":"import _isFunction from \"lodash/isFunction\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nimport { mathSign, isNumber } from '../util/DataUtils';\nimport { getStringSize } from '../util/DOMUtils';\nimport { Global } from '../util/Global';\nimport { getEveryNthWithCondition } from '../util/getEveryNthWithCondition';\n/**\n * Given an array of ticks, find N, the lowest possible number for which every\n * nTH tick in the ticks array isShow == true and return the array of every nTh tick.\n * @param {CartesianTickItem[]} ticks An array of CartesianTickItem with the\n * information whether they can be shown without overlapping with their neighbour isShow.\n * @returns {CartesianTickItem[]} Every nTh tick in an array.\n */\n\nexport function getEveryNThTick(ticks) {\n  var N = 1;\n  var previous = getEveryNthWithCondition(ticks, N, function (tickItem) {\n    return tickItem.isShow;\n  });\n\n  while (N <= ticks.length) {\n    if (previous !== undefined) {\n      return previous;\n    }\n\n    N++;\n    previous = getEveryNthWithCondition(ticks, N, function (tickItem) {\n      return tickItem.isShow;\n    });\n  }\n\n  return ticks.slice(0, 1);\n}\nexport function getNumberIntervalTicks(ticks, interval) {\n  return getEveryNthWithCondition(ticks, interval + 1);\n}\n\nfunction getTicksEnd(_ref) {\n  var ticks = _ref.ticks,\n      tickFormatter = _ref.tickFormatter,\n      viewBox = _ref.viewBox,\n      orientation = _ref.orientation,\n      minTickGap = _ref.minTickGap,\n      unit = _ref.unit,\n      fontSize = _ref.fontSize,\n      letterSpacing = _ref.letterSpacing;\n  var x = viewBox.x,\n      y = viewBox.y,\n      width = viewBox.width,\n      height = viewBox.height;\n  var sizeKey = orientation === 'top' || orientation === 'bottom' ? 'width' : 'height'; // we need add the width of 'unit' only when sizeKey === 'width'\n\n  var unitSize = unit && sizeKey === 'width' ? getStringSize(unit, {\n    fontSize: fontSize,\n    letterSpacing: letterSpacing\n  })[sizeKey] : 0;\n  var result = (ticks || []).slice();\n  var len = result.length;\n  var sign = len >= 2 ? mathSign(result[1].coordinate - result[0].coordinate) : 1;\n  var start, end;\n\n  if (sign === 1) {\n    start = sizeKey === 'width' ? x : y;\n    end = sizeKey === 'width' ? x + width : y + height;\n  } else {\n    start = sizeKey === 'width' ? x + width : y + height;\n    end = sizeKey === 'width' ? x : y;\n  }\n\n  for (var i = len - 1; i >= 0; i--) {\n    var entry = result[i];\n    var content = _isFunction(tickFormatter) ? tickFormatter(entry.value, len - i - 1) : entry.value;\n    var size = getStringSize(content, {\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    })[sizeKey] + unitSize;\n\n    if (i === len - 1) {\n      var gap = sign * (entry.coordinate + sign * size / 2 - end);\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: gap > 0 ? entry.coordinate - gap * sign : entry.coordinate\n      });\n    } else {\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: entry.coordinate\n      });\n    }\n\n    var isShow = sign * (entry.tickCoord - sign * size / 2 - start) >= 0 && sign * (entry.tickCoord + sign * size / 2 - end) <= 0;\n\n    if (isShow) {\n      end = entry.tickCoord - sign * (size / 2 + minTickGap);\n      result[i] = _objectSpread(_objectSpread({}, entry), {}, {\n        isShow: true\n      });\n    }\n  }\n\n  return result;\n}\n\nfunction getTicksStart(_ref2, preserveEnd) {\n  var ticks = _ref2.ticks,\n      tickFormatter = _ref2.tickFormatter,\n      viewBox = _ref2.viewBox,\n      orientation = _ref2.orientation,\n      minTickGap = _ref2.minTickGap,\n      unit = _ref2.unit,\n      fontSize = _ref2.fontSize,\n      letterSpacing = _ref2.letterSpacing;\n  var x = viewBox.x,\n      y = viewBox.y,\n      width = viewBox.width,\n      height = viewBox.height;\n  var sizeKey = orientation === 'top' || orientation === 'bottom' ? 'width' : 'height';\n  var result = (ticks || []).slice(); // we need add the width of 'unit' only when sizeKey === 'width'\n\n  var unitSize = unit && sizeKey === 'width' ? getStringSize(unit, {\n    fontSize: fontSize,\n    letterSpacing: letterSpacing\n  })[sizeKey] : 0;\n  var len = result.length;\n  var sign = len >= 2 ? mathSign(result[1].coordinate - result[0].coordinate) : 1;\n  var start, end;\n\n  if (sign === 1) {\n    start = sizeKey === 'width' ? x : y;\n    end = sizeKey === 'width' ? x + width : y + height;\n  } else {\n    start = sizeKey === 'width' ? x + width : y + height;\n    end = sizeKey === 'width' ? x : y;\n  }\n\n  if (preserveEnd) {\n    // Try to guarantee the tail to be displayed\n    var tail = ticks[len - 1];\n    var tailContent = _isFunction(tickFormatter) ? tickFormatter(tail.value, len - 1) : tail.value;\n    var tailSize = getStringSize(tailContent, {\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    })[sizeKey] + unitSize;\n    var tailGap = sign * (tail.coordinate + sign * tailSize / 2 - end);\n    result[len - 1] = tail = _objectSpread(_objectSpread({}, tail), {}, {\n      tickCoord: tailGap > 0 ? tail.coordinate - tailGap * sign : tail.coordinate\n    });\n    var isTailShow = sign * (tail.tickCoord - sign * tailSize / 2 - start) >= 0 && sign * (tail.tickCoord + sign * tailSize / 2 - end) <= 0;\n\n    if (isTailShow) {\n      end = tail.tickCoord - sign * (tailSize / 2 + minTickGap);\n      result[len - 1] = _objectSpread(_objectSpread({}, tail), {}, {\n        isShow: true\n      });\n    }\n  }\n\n  var count = preserveEnd ? len - 1 : len;\n\n  for (var i = 0; i < count; i++) {\n    var entry = result[i];\n    var content = _isFunction(tickFormatter) ? tickFormatter(entry.value, i) : entry.value;\n    var size = getStringSize(content, {\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    })[sizeKey] + unitSize;\n\n    if (i === 0) {\n      var gap = sign * (entry.coordinate - sign * size / 2 - start);\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: gap < 0 ? entry.coordinate - gap * sign : entry.coordinate\n      });\n    } else {\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: entry.coordinate\n      });\n    }\n\n    var isShow = sign * (entry.tickCoord - sign * size / 2 - start) >= 0 && sign * (entry.tickCoord + sign * size / 2 - end) <= 0;\n\n    if (isShow) {\n      start = entry.tickCoord + sign * (size / 2 + minTickGap);\n      result[i] = _objectSpread(_objectSpread({}, entry), {}, {\n        isShow: true\n      });\n    }\n  }\n\n  return result;\n}\n\nexport function getTicks(props, fontSize, letterSpacing) {\n  var tick = props.tick,\n      ticks = props.ticks,\n      viewBox = props.viewBox,\n      minTickGap = props.minTickGap,\n      orientation = props.orientation,\n      interval = props.interval,\n      tickFormatter = props.tickFormatter,\n      unit = props.unit;\n\n  if (!ticks || !ticks.length || !tick) {\n    return [];\n  }\n\n  if (isNumber(interval) || Global.isSsr) {\n    return getNumberIntervalTicks(ticks, typeof interval === 'number' && isNumber(interval) ? interval : 0);\n  }\n\n  var candidates = [];\n\n  if (interval === 'equidistantPreserveStart') {\n    candidates = getTicksStart({\n      ticks: ticks,\n      tickFormatter: tickFormatter,\n      viewBox: viewBox,\n      orientation: orientation,\n      minTickGap: minTickGap,\n      unit: unit,\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    });\n    return getEveryNThTick(candidates);\n  }\n\n  if (interval === 'preserveStart' || interval === 'preserveStartEnd') {\n    candidates = getTicksStart({\n      ticks: ticks,\n      tickFormatter: tickFormatter,\n      viewBox: viewBox,\n      orientation: orientation,\n      minTickGap: minTickGap,\n      unit: unit,\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    }, interval === 'preserveStartEnd');\n  } else {\n    candidates = getTicksEnd({\n      ticks: ticks,\n      tickFormatter: tickFormatter,\n      viewBox: viewBox,\n      orientation: orientation,\n      minTickGap: minTickGap,\n      unit: unit,\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    });\n  }\n\n  return candidates.filter(function (entry) {\n    return entry.isShow;\n  });\n}","map":{"version":3,"sources":["D:/FE/project/qlsv_frontend/node_modules/recharts/es6/cartesian/getTicks.js"],"names":["_isFunction","_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","mathSign","isNumber","getStringSize","Global","getEveryNthWithCondition","getEveryNThTick","ticks","N","previous","tickItem","isShow","slice","getNumberIntervalTicks","interval","getTicksEnd","_ref","tickFormatter","viewBox","orientation","minTickGap","unit","fontSize","letterSpacing","x","y","width","height","sizeKey","unitSize","result","len","sign","coordinate","start","end","entry","content","size","gap","tickCoord","getTicksStart","_ref2","preserveEnd","tail","tailContent","tailSize","tailGap","isTailShow","count","getTicks","props","tick","isSsr","candidates"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,mBAAxB;;AACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAAE;;AAA2B,SAAOD,OAAO,GAAG,cAAc,OAAOE,MAArB,IAA+B,YAAY,OAAOA,MAAM,CAACC,QAAzD,GAAoE,UAAUF,GAAV,EAAe;AAAE,WAAO,OAAOA,GAAd;AAAoB,GAAzG,GAA4G,UAAUA,GAAV,EAAe;AAAE,WAAOA,GAAG,IAAI,cAAc,OAAOC,MAA5B,IAAsCD,GAAG,CAACG,WAAJ,KAAoBF,MAA1D,IAAoED,GAAG,KAAKC,MAAM,CAACG,SAAnF,GAA+F,QAA/F,GAA0G,OAAOJ,GAAxH;AAA8H,GAArQ,EAAuQD,OAAO,CAACC,GAAD,CAArR;AAA6R;;AAChV,SAASK,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;AAAoDC,IAAAA,cAAc,KAAKI,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAf,CAAd,EAAkIP,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB,CAAlI;AAAmK;;AAAC,SAAOH,IAAP;AAAc;;AACrV,SAASU,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAG,QAAQF,SAAS,CAACD,CAAD,CAAjB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;AAAuDA,IAAAA,CAAC,GAAG,CAAJ,GAAQf,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,CAAC,CAAlB,CAAP,CAA4BC,OAA5B,CAAoC,UAAUC,GAAV,EAAe;AAAEC,MAAAA,eAAe,CAACP,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,KAAjG,CAAR,GAA6GhB,MAAM,CAACkB,yBAAP,GAAmClB,MAAM,CAACmB,gBAAP,CAAwBT,MAAxB,EAAgCV,MAAM,CAACkB,yBAAP,CAAiCJ,MAAjC,CAAhC,CAAnC,GAA+GlB,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEhB,MAAAA,MAAM,CAACoB,cAAP,CAAsBV,MAAtB,EAA8BM,GAA9B,EAAmChB,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,KAApI,CAA5N;AAAoW;;AAAC,SAAON,MAAP;AAAgB;;AAC1f,SAASO,eAAT,CAAyB1B,GAAzB,EAA8ByB,GAA9B,EAAmCK,KAAnC,EAA0C;AAAEL,EAAAA,GAAG,GAAGM,cAAc,CAACN,GAAD,CAApB;;AAA2B,MAAIA,GAAG,IAAIzB,GAAX,EAAgB;AAAES,IAAAA,MAAM,CAACoB,cAAP,CAAsB7B,GAAtB,EAA2ByB,GAA3B,EAAgC;AAAEK,MAAAA,KAAK,EAAEA,KAAT;AAAgBf,MAAAA,UAAU,EAAE,IAA5B;AAAkCiB,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEjC,IAAAA,GAAG,CAACyB,GAAD,CAAH,GAAWK,KAAX;AAAmB;;AAAC,SAAO9B,GAAP;AAAa;;AAC5O,SAAS+B,cAAT,CAAwBG,GAAxB,EAA6B;AAAE,MAAIT,GAAG,GAAGU,YAAY,CAACD,GAAD,EAAM,QAAN,CAAtB;;AAAuC,SAAOnC,OAAO,CAAC0B,GAAD,CAAP,KAAiB,QAAjB,GAA4BA,GAA5B,GAAkCW,MAAM,CAACX,GAAD,CAA/C;AAAuD;;AAC7H,SAASU,YAAT,CAAsBE,KAAtB,EAA6BC,IAA7B,EAAmC;AAAE,MAAIvC,OAAO,CAACsC,KAAD,CAAP,KAAmB,QAAnB,IAA+BA,KAAK,KAAK,IAA7C,EAAmD,OAAOA,KAAP;AAAc,MAAIE,IAAI,GAAGF,KAAK,CAACpC,MAAM,CAACuC,WAAR,CAAhB;;AAAsC,MAAID,IAAI,KAAKE,SAAb,EAAwB;AAAE,QAAIC,GAAG,GAAGH,IAAI,CAACI,IAAL,CAAUN,KAAV,EAAiBC,IAAI,IAAI,SAAzB,CAAV;AAA+C,QAAIvC,OAAO,CAAC2C,GAAD,CAAP,KAAiB,QAArB,EAA+B,OAAOA,GAAP;AAAY,UAAM,IAAIE,SAAJ,CAAc,8CAAd,CAAN;AAAsE;;AAAC,SAAO,CAACN,IAAI,KAAK,QAAT,GAAoBF,MAApB,GAA6BS,MAA9B,EAAsCR,KAAtC,CAAP;AAAsD;;AAC7X,SAASS,QAAT,EAAmBC,QAAnB,QAAmC,mBAAnC;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,wBAAT,QAAyC,kCAAzC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AACrC,MAAIC,CAAC,GAAG,CAAR;AACA,MAAIC,QAAQ,GAAGJ,wBAAwB,CAACE,KAAD,EAAQC,CAAR,EAAW,UAAUE,QAAV,EAAoB;AACpE,WAAOA,QAAQ,CAACC,MAAhB;AACD,GAFsC,CAAvC;;AAGA,SAAOH,CAAC,IAAID,KAAK,CAAC9B,MAAlB,EAA0B;AACxB,QAAIgC,QAAQ,KAAKb,SAAjB,EAA4B;AAC1B,aAAOa,QAAP;AACD;;AACDD,IAAAA,CAAC;AACDC,IAAAA,QAAQ,GAAGJ,wBAAwB,CAACE,KAAD,EAAQC,CAAR,EAAW,UAAUE,QAAV,EAAoB;AAChE,aAAOA,QAAQ,CAACC,MAAhB;AACD,KAFkC,CAAnC;AAGD;;AACD,SAAOJ,KAAK,CAACK,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAP;AACD;AACD,OAAO,SAASC,sBAAT,CAAgCN,KAAhC,EAAuCO,QAAvC,EAAiD;AACtD,SAAOT,wBAAwB,CAACE,KAAD,EAAQO,QAAQ,GAAG,CAAnB,CAA/B;AACD;;AACD,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AACzB,MAAIT,KAAK,GAAGS,IAAI,CAACT,KAAjB;AAAA,MACEU,aAAa,GAAGD,IAAI,CAACC,aADvB;AAAA,MAEEC,OAAO,GAAGF,IAAI,CAACE,OAFjB;AAAA,MAGEC,WAAW,GAAGH,IAAI,CAACG,WAHrB;AAAA,MAIEC,UAAU,GAAGJ,IAAI,CAACI,UAJpB;AAAA,MAKEC,IAAI,GAAGL,IAAI,CAACK,IALd;AAAA,MAMEC,QAAQ,GAAGN,IAAI,CAACM,QANlB;AAAA,MAOEC,aAAa,GAAGP,IAAI,CAACO,aAPvB;AAQA,MAAIC,CAAC,GAAGN,OAAO,CAACM,CAAhB;AAAA,MACEC,CAAC,GAAGP,OAAO,CAACO,CADd;AAAA,MAEEC,KAAK,GAAGR,OAAO,CAACQ,KAFlB;AAAA,MAGEC,MAAM,GAAGT,OAAO,CAACS,MAHnB;AAIA,MAAIC,OAAO,GAAGT,WAAW,KAAK,KAAhB,IAAyBA,WAAW,KAAK,QAAzC,GAAoD,OAApD,GAA8D,QAA5E,CAbyB,CAczB;;AACA,MAAIU,QAAQ,GAAGR,IAAI,IAAIO,OAAO,KAAK,OAApB,GAA8BzB,aAAa,CAACkB,IAAD,EAAO;AAC/DC,IAAAA,QAAQ,EAAEA,QADqD;AAE/DC,IAAAA,aAAa,EAAEA;AAFgD,GAAP,CAAb,CAG1CK,OAH0C,CAA9B,GAGD,CAHd;AAIA,MAAIE,MAAM,GAAG,CAACvB,KAAK,IAAI,EAAV,EAAcK,KAAd,EAAb;AACA,MAAImB,GAAG,GAAGD,MAAM,CAACrD,MAAjB;AACA,MAAIuD,IAAI,GAAGD,GAAG,IAAI,CAAP,GAAW9B,QAAQ,CAAC6B,MAAM,CAAC,CAAD,CAAN,CAAUG,UAAV,GAAuBH,MAAM,CAAC,CAAD,CAAN,CAAUG,UAAlC,CAAnB,GAAmE,CAA9E;AACA,MAAIC,KAAJ,EAAWC,GAAX;;AACA,MAAIH,IAAI,KAAK,CAAb,EAAgB;AACdE,IAAAA,KAAK,GAAGN,OAAO,KAAK,OAAZ,GAAsBJ,CAAtB,GAA0BC,CAAlC;AACAU,IAAAA,GAAG,GAAGP,OAAO,KAAK,OAAZ,GAAsBJ,CAAC,GAAGE,KAA1B,GAAkCD,CAAC,GAAGE,MAA5C;AACD,GAHD,MAGO;AACLO,IAAAA,KAAK,GAAGN,OAAO,KAAK,OAAZ,GAAsBJ,CAAC,GAAGE,KAA1B,GAAkCD,CAAC,GAAGE,MAA9C;AACAQ,IAAAA,GAAG,GAAGP,OAAO,KAAK,OAAZ,GAAsBJ,CAAtB,GAA0BC,CAAhC;AACD;;AACD,OAAK,IAAIlD,CAAC,GAAGwD,GAAG,GAAG,CAAnB,EAAsBxD,CAAC,IAAI,CAA3B,EAA8BA,CAAC,EAA/B,EAAmC;AACjC,QAAI6D,KAAK,GAAGN,MAAM,CAACvD,CAAD,CAAlB;AACA,QAAI8D,OAAO,GAAGpF,WAAW,CAACgE,aAAD,CAAX,GAA6BA,aAAa,CAACmB,KAAK,CAACnD,KAAP,EAAc8C,GAAG,GAAGxD,CAAN,GAAU,CAAxB,CAA1C,GAAuE6D,KAAK,CAACnD,KAA3F;AACA,QAAIqD,IAAI,GAAGnC,aAAa,CAACkC,OAAD,EAAU;AAChCf,MAAAA,QAAQ,EAAEA,QADsB;AAEhCC,MAAAA,aAAa,EAAEA;AAFiB,KAAV,CAAb,CAGRK,OAHQ,IAGGC,QAHd;;AAIA,QAAItD,CAAC,KAAKwD,GAAG,GAAG,CAAhB,EAAmB;AACjB,UAAIQ,GAAG,GAAGP,IAAI,IAAII,KAAK,CAACH,UAAN,GAAmBD,IAAI,GAAGM,IAAP,GAAc,CAAjC,GAAqCH,GAAzC,CAAd;AACAL,MAAAA,MAAM,CAACvD,CAAD,CAAN,GAAY6D,KAAK,GAAG/D,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK+D,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AAC9DI,QAAAA,SAAS,EAAED,GAAG,GAAG,CAAN,GAAUH,KAAK,CAACH,UAAN,GAAmBM,GAAG,GAAGP,IAAnC,GAA0CI,KAAK,CAACH;AADG,OAA/B,CAAjC;AAGD,KALD,MAKO;AACLH,MAAAA,MAAM,CAACvD,CAAD,CAAN,GAAY6D,KAAK,GAAG/D,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK+D,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AAC9DI,QAAAA,SAAS,EAAEJ,KAAK,CAACH;AAD6C,OAA/B,CAAjC;AAGD;;AACD,QAAItB,MAAM,GAAGqB,IAAI,IAAII,KAAK,CAACI,SAAN,GAAkBR,IAAI,GAAGM,IAAP,GAAc,CAAhC,GAAoCJ,KAAxC,CAAJ,IAAsD,CAAtD,IAA2DF,IAAI,IAAII,KAAK,CAACI,SAAN,GAAkBR,IAAI,GAAGM,IAAP,GAAc,CAAhC,GAAoCH,GAAxC,CAAJ,IAAoD,CAA5H;;AACA,QAAIxB,MAAJ,EAAY;AACVwB,MAAAA,GAAG,GAAGC,KAAK,CAACI,SAAN,GAAkBR,IAAI,IAAIM,IAAI,GAAG,CAAP,GAAWlB,UAAf,CAA5B;AACAU,MAAAA,MAAM,CAACvD,CAAD,CAAN,GAAYF,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK+D,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACtDzB,QAAAA,MAAM,EAAE;AAD8C,OAA/B,CAAzB;AAGD;AACF;;AACD,SAAOmB,MAAP;AACD;;AACD,SAASW,aAAT,CAAuBC,KAAvB,EAA8BC,WAA9B,EAA2C;AACzC,MAAIpC,KAAK,GAAGmC,KAAK,CAACnC,KAAlB;AAAA,MACEU,aAAa,GAAGyB,KAAK,CAACzB,aADxB;AAAA,MAEEC,OAAO,GAAGwB,KAAK,CAACxB,OAFlB;AAAA,MAGEC,WAAW,GAAGuB,KAAK,CAACvB,WAHtB;AAAA,MAIEC,UAAU,GAAGsB,KAAK,CAACtB,UAJrB;AAAA,MAKEC,IAAI,GAAGqB,KAAK,CAACrB,IALf;AAAA,MAMEC,QAAQ,GAAGoB,KAAK,CAACpB,QANnB;AAAA,MAOEC,aAAa,GAAGmB,KAAK,CAACnB,aAPxB;AAQA,MAAIC,CAAC,GAAGN,OAAO,CAACM,CAAhB;AAAA,MACEC,CAAC,GAAGP,OAAO,CAACO,CADd;AAAA,MAEEC,KAAK,GAAGR,OAAO,CAACQ,KAFlB;AAAA,MAGEC,MAAM,GAAGT,OAAO,CAACS,MAHnB;AAIA,MAAIC,OAAO,GAAGT,WAAW,KAAK,KAAhB,IAAyBA,WAAW,KAAK,QAAzC,GAAoD,OAApD,GAA8D,QAA5E;AACA,MAAIW,MAAM,GAAG,CAACvB,KAAK,IAAI,EAAV,EAAcK,KAAd,EAAb,CAdyC,CAezC;;AACA,MAAIiB,QAAQ,GAAGR,IAAI,IAAIO,OAAO,KAAK,OAApB,GAA8BzB,aAAa,CAACkB,IAAD,EAAO;AAC/DC,IAAAA,QAAQ,EAAEA,QADqD;AAE/DC,IAAAA,aAAa,EAAEA;AAFgD,GAAP,CAAb,CAG1CK,OAH0C,CAA9B,GAGD,CAHd;AAIA,MAAIG,GAAG,GAAGD,MAAM,CAACrD,MAAjB;AACA,MAAIuD,IAAI,GAAGD,GAAG,IAAI,CAAP,GAAW9B,QAAQ,CAAC6B,MAAM,CAAC,CAAD,CAAN,CAAUG,UAAV,GAAuBH,MAAM,CAAC,CAAD,CAAN,CAAUG,UAAlC,CAAnB,GAAmE,CAA9E;AACA,MAAIC,KAAJ,EAAWC,GAAX;;AACA,MAAIH,IAAI,KAAK,CAAb,EAAgB;AACdE,IAAAA,KAAK,GAAGN,OAAO,KAAK,OAAZ,GAAsBJ,CAAtB,GAA0BC,CAAlC;AACAU,IAAAA,GAAG,GAAGP,OAAO,KAAK,OAAZ,GAAsBJ,CAAC,GAAGE,KAA1B,GAAkCD,CAAC,GAAGE,MAA5C;AACD,GAHD,MAGO;AACLO,IAAAA,KAAK,GAAGN,OAAO,KAAK,OAAZ,GAAsBJ,CAAC,GAAGE,KAA1B,GAAkCD,CAAC,GAAGE,MAA9C;AACAQ,IAAAA,GAAG,GAAGP,OAAO,KAAK,OAAZ,GAAsBJ,CAAtB,GAA0BC,CAAhC;AACD;;AACD,MAAIkB,WAAJ,EAAiB;AACf;AACA,QAAIC,IAAI,GAAGrC,KAAK,CAACwB,GAAG,GAAG,CAAP,CAAhB;AACA,QAAIc,WAAW,GAAG5F,WAAW,CAACgE,aAAD,CAAX,GAA6BA,aAAa,CAAC2B,IAAI,CAAC3D,KAAN,EAAa8C,GAAG,GAAG,CAAnB,CAA1C,GAAkEa,IAAI,CAAC3D,KAAzF;AACA,QAAI6D,QAAQ,GAAG3C,aAAa,CAAC0C,WAAD,EAAc;AACxCvB,MAAAA,QAAQ,EAAEA,QAD8B;AAExCC,MAAAA,aAAa,EAAEA;AAFyB,KAAd,CAAb,CAGZK,OAHY,IAGDC,QAHd;AAIA,QAAIkB,OAAO,GAAGf,IAAI,IAAIY,IAAI,CAACX,UAAL,GAAkBD,IAAI,GAAGc,QAAP,GAAkB,CAApC,GAAwCX,GAA5C,CAAlB;AACAL,IAAAA,MAAM,CAACC,GAAG,GAAG,CAAP,CAAN,GAAkBa,IAAI,GAAGvE,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKuE,IAAL,CAAd,EAA0B,EAA1B,EAA8B;AAClEJ,MAAAA,SAAS,EAAEO,OAAO,GAAG,CAAV,GAAcH,IAAI,CAACX,UAAL,GAAkBc,OAAO,GAAGf,IAA1C,GAAiDY,IAAI,CAACX;AADC,KAA9B,CAAtC;AAGA,QAAIe,UAAU,GAAGhB,IAAI,IAAIY,IAAI,CAACJ,SAAL,GAAiBR,IAAI,GAAGc,QAAP,GAAkB,CAAnC,GAAuCZ,KAA3C,CAAJ,IAAyD,CAAzD,IAA8DF,IAAI,IAAIY,IAAI,CAACJ,SAAL,GAAiBR,IAAI,GAAGc,QAAP,GAAkB,CAAnC,GAAuCX,GAA3C,CAAJ,IAAuD,CAAtI;;AACA,QAAIa,UAAJ,EAAgB;AACdb,MAAAA,GAAG,GAAGS,IAAI,CAACJ,SAAL,GAAiBR,IAAI,IAAIc,QAAQ,GAAG,CAAX,GAAe1B,UAAnB,CAA3B;AACAU,MAAAA,MAAM,CAACC,GAAG,GAAG,CAAP,CAAN,GAAkB1D,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKuE,IAAL,CAAd,EAA0B,EAA1B,EAA8B;AAC3DjC,QAAAA,MAAM,EAAE;AADmD,OAA9B,CAA/B;AAGD;AACF;;AACD,MAAIsC,KAAK,GAAGN,WAAW,GAAGZ,GAAG,GAAG,CAAT,GAAaA,GAApC;;AACA,OAAK,IAAIxD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0E,KAApB,EAA2B1E,CAAC,EAA5B,EAAgC;AAC9B,QAAI6D,KAAK,GAAGN,MAAM,CAACvD,CAAD,CAAlB;AACA,QAAI8D,OAAO,GAAGpF,WAAW,CAACgE,aAAD,CAAX,GAA6BA,aAAa,CAACmB,KAAK,CAACnD,KAAP,EAAcV,CAAd,CAA1C,GAA6D6D,KAAK,CAACnD,KAAjF;AACA,QAAIqD,IAAI,GAAGnC,aAAa,CAACkC,OAAD,EAAU;AAChCf,MAAAA,QAAQ,EAAEA,QADsB;AAEhCC,MAAAA,aAAa,EAAEA;AAFiB,KAAV,CAAb,CAGRK,OAHQ,IAGGC,QAHd;;AAIA,QAAItD,CAAC,KAAK,CAAV,EAAa;AACX,UAAIgE,GAAG,GAAGP,IAAI,IAAII,KAAK,CAACH,UAAN,GAAmBD,IAAI,GAAGM,IAAP,GAAc,CAAjC,GAAqCJ,KAAzC,CAAd;AACAJ,MAAAA,MAAM,CAACvD,CAAD,CAAN,GAAY6D,KAAK,GAAG/D,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK+D,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AAC9DI,QAAAA,SAAS,EAAED,GAAG,GAAG,CAAN,GAAUH,KAAK,CAACH,UAAN,GAAmBM,GAAG,GAAGP,IAAnC,GAA0CI,KAAK,CAACH;AADG,OAA/B,CAAjC;AAGD,KALD,MAKO;AACLH,MAAAA,MAAM,CAACvD,CAAD,CAAN,GAAY6D,KAAK,GAAG/D,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK+D,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AAC9DI,QAAAA,SAAS,EAAEJ,KAAK,CAACH;AAD6C,OAA/B,CAAjC;AAGD;;AACD,QAAItB,MAAM,GAAGqB,IAAI,IAAII,KAAK,CAACI,SAAN,GAAkBR,IAAI,GAAGM,IAAP,GAAc,CAAhC,GAAoCJ,KAAxC,CAAJ,IAAsD,CAAtD,IAA2DF,IAAI,IAAII,KAAK,CAACI,SAAN,GAAkBR,IAAI,GAAGM,IAAP,GAAc,CAAhC,GAAoCH,GAAxC,CAAJ,IAAoD,CAA5H;;AACA,QAAIxB,MAAJ,EAAY;AACVuB,MAAAA,KAAK,GAAGE,KAAK,CAACI,SAAN,GAAkBR,IAAI,IAAIM,IAAI,GAAG,CAAP,GAAWlB,UAAf,CAA9B;AACAU,MAAAA,MAAM,CAACvD,CAAD,CAAN,GAAYF,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK+D,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACtDzB,QAAAA,MAAM,EAAE;AAD8C,OAA/B,CAAzB;AAGD;AACF;;AACD,SAAOmB,MAAP;AACD;;AACD,OAAO,SAASoB,QAAT,CAAkBC,KAAlB,EAAyB7B,QAAzB,EAAmCC,aAAnC,EAAkD;AACvD,MAAI6B,IAAI,GAAGD,KAAK,CAACC,IAAjB;AAAA,MACE7C,KAAK,GAAG4C,KAAK,CAAC5C,KADhB;AAAA,MAEEW,OAAO,GAAGiC,KAAK,CAACjC,OAFlB;AAAA,MAGEE,UAAU,GAAG+B,KAAK,CAAC/B,UAHrB;AAAA,MAIED,WAAW,GAAGgC,KAAK,CAAChC,WAJtB;AAAA,MAKEL,QAAQ,GAAGqC,KAAK,CAACrC,QALnB;AAAA,MAMEG,aAAa,GAAGkC,KAAK,CAAClC,aANxB;AAAA,MAOEI,IAAI,GAAG8B,KAAK,CAAC9B,IAPf;;AAQA,MAAI,CAACd,KAAD,IAAU,CAACA,KAAK,CAAC9B,MAAjB,IAA2B,CAAC2E,IAAhC,EAAsC;AACpC,WAAO,EAAP;AACD;;AACD,MAAIlD,QAAQ,CAACY,QAAD,CAAR,IAAsBV,MAAM,CAACiD,KAAjC,EAAwC;AACtC,WAAOxC,sBAAsB,CAACN,KAAD,EAAQ,OAAOO,QAAP,KAAoB,QAApB,IAAgCZ,QAAQ,CAACY,QAAD,CAAxC,GAAqDA,QAArD,GAAgE,CAAxE,CAA7B;AACD;;AACD,MAAIwC,UAAU,GAAG,EAAjB;;AACA,MAAIxC,QAAQ,KAAK,0BAAjB,EAA6C;AAC3CwC,IAAAA,UAAU,GAAGb,aAAa,CAAC;AACzBlC,MAAAA,KAAK,EAAEA,KADkB;AAEzBU,MAAAA,aAAa,EAAEA,aAFU;AAGzBC,MAAAA,OAAO,EAAEA,OAHgB;AAIzBC,MAAAA,WAAW,EAAEA,WAJY;AAKzBC,MAAAA,UAAU,EAAEA,UALa;AAMzBC,MAAAA,IAAI,EAAEA,IANmB;AAOzBC,MAAAA,QAAQ,EAAEA,QAPe;AAQzBC,MAAAA,aAAa,EAAEA;AARU,KAAD,CAA1B;AAUA,WAAOjB,eAAe,CAACgD,UAAD,CAAtB;AACD;;AACD,MAAIxC,QAAQ,KAAK,eAAb,IAAgCA,QAAQ,KAAK,kBAAjD,EAAqE;AACnEwC,IAAAA,UAAU,GAAGb,aAAa,CAAC;AACzBlC,MAAAA,KAAK,EAAEA,KADkB;AAEzBU,MAAAA,aAAa,EAAEA,aAFU;AAGzBC,MAAAA,OAAO,EAAEA,OAHgB;AAIzBC,MAAAA,WAAW,EAAEA,WAJY;AAKzBC,MAAAA,UAAU,EAAEA,UALa;AAMzBC,MAAAA,IAAI,EAAEA,IANmB;AAOzBC,MAAAA,QAAQ,EAAEA,QAPe;AAQzBC,MAAAA,aAAa,EAAEA;AARU,KAAD,EASvBT,QAAQ,KAAK,kBATU,CAA1B;AAUD,GAXD,MAWO;AACLwC,IAAAA,UAAU,GAAGvC,WAAW,CAAC;AACvBR,MAAAA,KAAK,EAAEA,KADgB;AAEvBU,MAAAA,aAAa,EAAEA,aAFQ;AAGvBC,MAAAA,OAAO,EAAEA,OAHc;AAIvBC,MAAAA,WAAW,EAAEA,WAJU;AAKvBC,MAAAA,UAAU,EAAEA,UALW;AAMvBC,MAAAA,IAAI,EAAEA,IANiB;AAOvBC,MAAAA,QAAQ,EAAEA,QAPa;AAQvBC,MAAAA,aAAa,EAAEA;AARQ,KAAD,CAAxB;AAUD;;AACD,SAAO+B,UAAU,CAACvF,MAAX,CAAkB,UAAUqE,KAAV,EAAiB;AACxC,WAAOA,KAAK,CAACzB,MAAb;AACD,GAFM,CAAP;AAGD","sourcesContent":["import _isFunction from \"lodash/isFunction\";\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { mathSign, isNumber } from '../util/DataUtils';\nimport { getStringSize } from '../util/DOMUtils';\nimport { Global } from '../util/Global';\nimport { getEveryNthWithCondition } from '../util/getEveryNthWithCondition';\n\n/**\n * Given an array of ticks, find N, the lowest possible number for which every\n * nTH tick in the ticks array isShow == true and return the array of every nTh tick.\n * @param {CartesianTickItem[]} ticks An array of CartesianTickItem with the\n * information whether they can be shown without overlapping with their neighbour isShow.\n * @returns {CartesianTickItem[]} Every nTh tick in an array.\n */\nexport function getEveryNThTick(ticks) {\n  var N = 1;\n  var previous = getEveryNthWithCondition(ticks, N, function (tickItem) {\n    return tickItem.isShow;\n  });\n  while (N <= ticks.length) {\n    if (previous !== undefined) {\n      return previous;\n    }\n    N++;\n    previous = getEveryNthWithCondition(ticks, N, function (tickItem) {\n      return tickItem.isShow;\n    });\n  }\n  return ticks.slice(0, 1);\n}\nexport function getNumberIntervalTicks(ticks, interval) {\n  return getEveryNthWithCondition(ticks, interval + 1);\n}\nfunction getTicksEnd(_ref) {\n  var ticks = _ref.ticks,\n    tickFormatter = _ref.tickFormatter,\n    viewBox = _ref.viewBox,\n    orientation = _ref.orientation,\n    minTickGap = _ref.minTickGap,\n    unit = _ref.unit,\n    fontSize = _ref.fontSize,\n    letterSpacing = _ref.letterSpacing;\n  var x = viewBox.x,\n    y = viewBox.y,\n    width = viewBox.width,\n    height = viewBox.height;\n  var sizeKey = orientation === 'top' || orientation === 'bottom' ? 'width' : 'height';\n  // we need add the width of 'unit' only when sizeKey === 'width'\n  var unitSize = unit && sizeKey === 'width' ? getStringSize(unit, {\n    fontSize: fontSize,\n    letterSpacing: letterSpacing\n  })[sizeKey] : 0;\n  var result = (ticks || []).slice();\n  var len = result.length;\n  var sign = len >= 2 ? mathSign(result[1].coordinate - result[0].coordinate) : 1;\n  var start, end;\n  if (sign === 1) {\n    start = sizeKey === 'width' ? x : y;\n    end = sizeKey === 'width' ? x + width : y + height;\n  } else {\n    start = sizeKey === 'width' ? x + width : y + height;\n    end = sizeKey === 'width' ? x : y;\n  }\n  for (var i = len - 1; i >= 0; i--) {\n    var entry = result[i];\n    var content = _isFunction(tickFormatter) ? tickFormatter(entry.value, len - i - 1) : entry.value;\n    var size = getStringSize(content, {\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    })[sizeKey] + unitSize;\n    if (i === len - 1) {\n      var gap = sign * (entry.coordinate + sign * size / 2 - end);\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: gap > 0 ? entry.coordinate - gap * sign : entry.coordinate\n      });\n    } else {\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: entry.coordinate\n      });\n    }\n    var isShow = sign * (entry.tickCoord - sign * size / 2 - start) >= 0 && sign * (entry.tickCoord + sign * size / 2 - end) <= 0;\n    if (isShow) {\n      end = entry.tickCoord - sign * (size / 2 + minTickGap);\n      result[i] = _objectSpread(_objectSpread({}, entry), {}, {\n        isShow: true\n      });\n    }\n  }\n  return result;\n}\nfunction getTicksStart(_ref2, preserveEnd) {\n  var ticks = _ref2.ticks,\n    tickFormatter = _ref2.tickFormatter,\n    viewBox = _ref2.viewBox,\n    orientation = _ref2.orientation,\n    minTickGap = _ref2.minTickGap,\n    unit = _ref2.unit,\n    fontSize = _ref2.fontSize,\n    letterSpacing = _ref2.letterSpacing;\n  var x = viewBox.x,\n    y = viewBox.y,\n    width = viewBox.width,\n    height = viewBox.height;\n  var sizeKey = orientation === 'top' || orientation === 'bottom' ? 'width' : 'height';\n  var result = (ticks || []).slice();\n  // we need add the width of 'unit' only when sizeKey === 'width'\n  var unitSize = unit && sizeKey === 'width' ? getStringSize(unit, {\n    fontSize: fontSize,\n    letterSpacing: letterSpacing\n  })[sizeKey] : 0;\n  var len = result.length;\n  var sign = len >= 2 ? mathSign(result[1].coordinate - result[0].coordinate) : 1;\n  var start, end;\n  if (sign === 1) {\n    start = sizeKey === 'width' ? x : y;\n    end = sizeKey === 'width' ? x + width : y + height;\n  } else {\n    start = sizeKey === 'width' ? x + width : y + height;\n    end = sizeKey === 'width' ? x : y;\n  }\n  if (preserveEnd) {\n    // Try to guarantee the tail to be displayed\n    var tail = ticks[len - 1];\n    var tailContent = _isFunction(tickFormatter) ? tickFormatter(tail.value, len - 1) : tail.value;\n    var tailSize = getStringSize(tailContent, {\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    })[sizeKey] + unitSize;\n    var tailGap = sign * (tail.coordinate + sign * tailSize / 2 - end);\n    result[len - 1] = tail = _objectSpread(_objectSpread({}, tail), {}, {\n      tickCoord: tailGap > 0 ? tail.coordinate - tailGap * sign : tail.coordinate\n    });\n    var isTailShow = sign * (tail.tickCoord - sign * tailSize / 2 - start) >= 0 && sign * (tail.tickCoord + sign * tailSize / 2 - end) <= 0;\n    if (isTailShow) {\n      end = tail.tickCoord - sign * (tailSize / 2 + minTickGap);\n      result[len - 1] = _objectSpread(_objectSpread({}, tail), {}, {\n        isShow: true\n      });\n    }\n  }\n  var count = preserveEnd ? len - 1 : len;\n  for (var i = 0; i < count; i++) {\n    var entry = result[i];\n    var content = _isFunction(tickFormatter) ? tickFormatter(entry.value, i) : entry.value;\n    var size = getStringSize(content, {\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    })[sizeKey] + unitSize;\n    if (i === 0) {\n      var gap = sign * (entry.coordinate - sign * size / 2 - start);\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: gap < 0 ? entry.coordinate - gap * sign : entry.coordinate\n      });\n    } else {\n      result[i] = entry = _objectSpread(_objectSpread({}, entry), {}, {\n        tickCoord: entry.coordinate\n      });\n    }\n    var isShow = sign * (entry.tickCoord - sign * size / 2 - start) >= 0 && sign * (entry.tickCoord + sign * size / 2 - end) <= 0;\n    if (isShow) {\n      start = entry.tickCoord + sign * (size / 2 + minTickGap);\n      result[i] = _objectSpread(_objectSpread({}, entry), {}, {\n        isShow: true\n      });\n    }\n  }\n  return result;\n}\nexport function getTicks(props, fontSize, letterSpacing) {\n  var tick = props.tick,\n    ticks = props.ticks,\n    viewBox = props.viewBox,\n    minTickGap = props.minTickGap,\n    orientation = props.orientation,\n    interval = props.interval,\n    tickFormatter = props.tickFormatter,\n    unit = props.unit;\n  if (!ticks || !ticks.length || !tick) {\n    return [];\n  }\n  if (isNumber(interval) || Global.isSsr) {\n    return getNumberIntervalTicks(ticks, typeof interval === 'number' && isNumber(interval) ? interval : 0);\n  }\n  var candidates = [];\n  if (interval === 'equidistantPreserveStart') {\n    candidates = getTicksStart({\n      ticks: ticks,\n      tickFormatter: tickFormatter,\n      viewBox: viewBox,\n      orientation: orientation,\n      minTickGap: minTickGap,\n      unit: unit,\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    });\n    return getEveryNThTick(candidates);\n  }\n  if (interval === 'preserveStart' || interval === 'preserveStartEnd') {\n    candidates = getTicksStart({\n      ticks: ticks,\n      tickFormatter: tickFormatter,\n      viewBox: viewBox,\n      orientation: orientation,\n      minTickGap: minTickGap,\n      unit: unit,\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    }, interval === 'preserveStartEnd');\n  } else {\n    candidates = getTicksEnd({\n      ticks: ticks,\n      tickFormatter: tickFormatter,\n      viewBox: viewBox,\n      orientation: orientation,\n      minTickGap: minTickGap,\n      unit: unit,\n      fontSize: fontSize,\n      letterSpacing: letterSpacing\n    });\n  }\n  return candidates.filter(function (entry) {\n    return entry.isShow;\n  });\n}"]},"metadata":{},"sourceType":"module"}